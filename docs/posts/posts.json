[
  {
    "path": "posts/2021-11-05-multivar/",
    "title": "Course on Multivariate Statistics an R",
    "description": "A course on the applications of multivariate statistics on vegetation ecology\nis scheduled for the period between the 16th and 23rd of November in\nNairobi.",
    "author": [
      {
        "name": "Miguel Alvarez",
        "url": "https://kamapu.github.io/"
      }
    ],
    "date": "2021-05-11",
    "categories": [
      "R",
      "vegetation"
    ],
    "contents": "\nBrief description here\nSee program here.\n\n\n\n",
    "preview": "posts/2021-11-05-multivar/images/poster-course.jpg",
    "last_modified": "2022-06-06T09:58:21+00:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-11-20-vegtablepress2/",
    "title": "Basics on the work with vegetation-plots in vegtable",
    "description": "The package vegtable was developed for the handling of data provided by\nvegetation-plot databases in single objects within R sessions.\nIn this package functions attempt to encapsulate process of complex data sets\nin brief command-lines during an R session and target to repeatability in the\nassessment of floristic information.\nHere we review through some examples the use of the most important functions\nimplemented in vegtable.",
    "author": [
      {
        "name": "Miguel Alvarez",
        "url": "https://kamapu.github.io/"
      }
    ],
    "date": "2020-11-20",
    "categories": [
      "R",
      "vegetation"
    ],
    "contents": "\nInstallation\nBoth packages taxlist and vegtable are released in the Comprehensive R Archive Network (CRAN). Since taxlist is a dependency of vegtable, both will be installed in the following command:\n\n\ninstall.packages(\"vegtable\", dependencies=TRUE)\n\n\n\nAlternatively, you can install the development versions from their repositories at GitHub.\n\n\nlibrary(devtools)\ninstall_github(\"ropensci/taxlist\", build_vignettes=TRUE)\ninstall_github(\"kamapu/vegtable\")\n\n\n\nAn additional package including some example data required for this session have also to be installed from GitHub.\n\n\ninstall_github(\"kamapu/datastore\")\n\n\n\n  to the slides \nWorking with species lists only\nBefore starting with the work, do not forget to load the installed packages into your R-session:\n\n\nlibrary(vegtable)\nlibrary(datastore)\n\n\n\nIn this first section we focus on the taxlist objects, which are specialized for handling taxonomic lists. For more details on the theory behind this package, see Alvarez and Luebert (2018).\nThe package taxlist includes a own data set formatted as a taxlist object. You can get a general report on the content of this data set by using the function summary().\n\n\ndata(Easplist)\nsummary(Easplist)\n\n\nobject size: 761.4 Kb \nvalidation of 'taxlist' object: TRUE \n\nnumber of taxon usage names: 5393 \nnumber of taxon concepts: 3887 \ntrait entries: 311 \nnumber of trait variables: 1 \ntaxon views: 3 \n\nconcepts with parents: 3698 \nconcepts with children: 1343 \n\nhierarchical levels: form < variety < subspecies < species < complex < genus < family \nnumber of concepts in level form: 2\nnumber of concepts in level variety: 95\nnumber of concepts in level subspecies: 71\nnumber of concepts in level species: 2521\nnumber of concepts in level complex: 1\nnumber of concepts in level genus: 1011\nnumber of concepts in level family: 186\n\nThe information stored in a taxlist object is organized in four column-oriented tables following a relational model and allocated in own slots within the object. The access to the respective slots in R is done with the symbol @ or alternatively using the function slot().\n\n\n\n\n\nhead(Easplist@taxonNames)\n\n\n  TaxonUsageID TaxonConceptID              TaxonName\n1            1              1 Abelmoschus esculentus\n2        52313              1    Hibiscus esculentus\n3            2              2       Abutilon indicum\n4            3              3   Abutilon mauritianum\n5        50361              3         Pavonia patens\n6            4              4   Acacia drepanolobium\n            AuthorName\n1          (L.) Moench\n2                   L.\n3                 (L.)\n4       (Jacq.) Medik.\n5     (Andrews) Chiov.\n6 Harms ex Y. Sjöstedt\n\nhead(Easplist@taxonRelations)\n\n\n  TaxonConceptID AcceptedName Basionym Parent   Level ViewID\n1              1            1       NA  54753 species      1\n2              2            2       NA  54754 species      1\n3              3            3       NA  54754 species      1\n4              4            4       NA  54755 species      1\n5              5            5       NA  54755 species      1\n6              6            6       NA  54755 species      1\n\nhead(Easplist@taxonTraits)\n\n\n  TaxonConceptID       lf_behn_2018\n1              7       phanerophyte\n2              9       phanerophyte\n3             18 facultative_annual\n4             20 facultative_annual\n5             21    obligate_annual\n6             22        chamaephyte\n\nhead(Easplist@taxonViews)\n\n\n  ViewID                                 secundum view_bibtexkey\n1      1            African Plant Database (2012)  CJBGSANBI2012\n2      2 Taxonomic Name Resolution Service (2018)       TNRS2018\n3      3                    The Plant List (2013)        TPL2013\n\nAdvanced displays\nThe function summary() can also be used to query information of a taxon or a set of taxa. In such case we can add the name of the requested taxon usage name. We can also specify a column of the slot taxonViews in the parameter secundum in order to get more informatin on the respective taxon view as done here:\n\n\nsummary(Easplist, \"Amaranthus hybridus\", secundum=\"secundum\")\n\n\n------------------------------ \nconcept ID: 37 \nview ID: 1 - African Plant Database (2012) \nlevel: species \nparent: 54771 Amaranthus L. \n\n# accepted name: \n37 Amaranthus hybridus L. \n------------------------------ \nconcept ID: 38 \nview ID: 1 - African Plant Database (2012) \nlevel: subspecies \nparent: 37 Amaranthus hybridus L. \n\n# accepted name: \n38 Amaranthus hybridus ssp. cruentus (L.) Thell. \n\n# synonyms (1): \n50004 Amaranthus cruentus L. \n------------------------------ \nconcept ID: 50820 \nview ID: 1 - African Plant Database (2012) \nlevel: subspecies \nparent: 37 Amaranthus hybridus L. \n\n# accepted name: \n50820 Amaranthus hybridus ssp. hybridus L. \n------------------------------ \n\nAdditionally the function print_name() can be used to format scientific names within interactive documents, for instance in combination with the package rmarkdown. See the example by example(print_name), which is printing in different formats.\n\n\n\nWorking with vegetation-plots\nFurther examples will be applied to a data set available at the installed package datastore, which corresponds to plot observations in grassland and semi-aquatic communities from Temuco, Chile. This data set was originally published by San Martín et al. (1998) and is stored in the database sudamerica (https://kamapu.github.io/sudamerica/, see also Alvarez et al., 2012).\n\n\ndata(grasslands)\nsummary(grasslands)\n\n\n## Metadata \n   object size: 180.8 Kb \n   validity: TRUE \n\n## Content \n   number of plots: 78 \n   plots with records: 78 \n   variables in header: 7 \n   number of relations: 2 \n\n## Taxonomic List \n   taxon names: 544 \n   taxon concepts: 197 \n   validity: TRUE \n\nStructure\nObjects of class vegtable are structured into 7 slots, where the slots species, header, and samples are the essential ones.\n\n\n\nThe taxonomic list is handled as a taxlist object and is located at the slot species:\n\n\nsummary(grasslands@species)\n\n\nobject size: 89.4 Kb \nvalidation of 'taxlist' object: TRUE \n\nnumber of taxon usage names: 544 \nnumber of taxon concepts: 197 \ntrait entries: 83 \nnumber of trait variables: 8 \ntaxon views: 9 \n\nconcepts with parents: 162 \nconcepts with children: 113 \n\nhierarchical levels: form < variety < subspecies < species < section < subgenus < genus < subfamily < family < division \nnumber of concepts in level form: 0\nnumber of concepts in level variety: 6\nnumber of concepts in level subspecies: 1\nnumber of concepts in level species: 84\nnumber of concepts in level section: 0\nnumber of concepts in level subgenus: 0\nnumber of concepts in level genus: 71\nnumber of concepts in level subfamily: 0\nnumber of concepts in level family: 35\nnumber of concepts in level division: 0\n\nThe slot header is simply a data frame including information related to single plot observations, for instance size of the plot, record date, results of soil analyses, etc.\n\n\nhead(grasslands@header)\n\n\n    ReleveID data_source plot_size elevation community_type longitude\n669     1153          58        25       165            534  -72.6979\n670     1154          58        25       199            534  -72.7341\n671     1155          58        25       170            534  -72.6803\n672     1156          58        25        77            534  -72.7440\n673     1157          58        25       168            534  -72.6958\n674     1159          58        25       165            534  -72.6979\n    latitude\n669 -38.7072\n670 -38.6310\n671 -38.6908\n672 -38.6846\n673 -38.7141\n674 -38.7072\n\nRecords of species in plots are stored in slot samples. Against the commonly used cross tables (species by plots or plots by species), this slot is organized in columns (column-oriented table, a.k.a database list).\n\n\nhead(grasslands@samples)\n\n\n      record_id ReleveID TaxonUsageID cover_percentage\n14818     14818     1147        20972             15.0\n14819     14819     1147         2500              0.5\n14820     14820     1147        11008              0.5\n14821     14821     1147        23744             60.0\n14822     14822     1147         9373             20.0\n14823     14823     1147       196060              0.5\n\nThe slot coverconvert have an own, homonymous class and is used as container for cover conversion tables. These tables can be used for conversion of cover codes, which will be done by the function transform(). The example on grasslands does not include cover conversion tables but the data set installed with vegtable does it.\n\n\nsummary(Kenya_veg@coverconvert)\n\n\n## Number of cover scales: 3 \n\n* scale 'br_bl': \n  Levels    Range\n1      r    0 - 1\n2      +    0 - 1\n3      1    1 - 5\n4      2   5 - 25\n5      3  25 - 50\n6      4  50 - 75\n7      5 75 - 100\n\n* scale 'b_bbds': \n  Levels    Range\n1      r    0 - 1\n2      +    0 - 1\n3      1    1 - 5\n4     2m    1 - 5\n5     2a   5 - 15\n6     2b  15 - 25\n7      3  25 - 50\n8      4  50 - 75\n9      5 75 - 100\n\n* scale 'ordin.': \n  Levels    Range\n1      1    0 - 1\n2      2    0 - 1\n3      3    1 - 5\n4      4    1 - 5\n5      5   5 - 15\n6      6  15 - 25\n7      7  25 - 50\n8      8  50 - 75\n9      9 75 - 100\n\nThe slot relations is a list of data frames that provide additional information for classes of categorical variables stored in slot header. These tables correspond to pop-up tables of Turboveg 2.\n\n\nnames(grasslands@relations)\n\n\n[1] \"community_type\" \"data_source\"   \n\nhead(grasslands@relations$community_type)\n\n\n  community_type\n1            298\n2            305\n3            307\n4            310\n5            313\n6            315\n                                                       community_name\n1            Loudetia phragmitoides-Hyparrhenia bracteata-communities\n2                                             Loudetio-Fimbristyletum\n3                                            Euphorbieto-Portulacetum\n4                                 Amaranthus sp- Synedrella nodiflora\n5                               Pennisetum purpureum-Acalypha ciliata\n6 Sporobolus festivus-Hysanthes trichotoma (sous-association typique)\n\nWhile in the header table such categorical variables may be cryptic, there is an option to insert columns from relations into header by using relation2header(). By this way, yo do not only see a community id, which is just a number, but you can also see the respective names of the plant communities that correspond to the syntaxa assigned to the plots originally by the publication.\n\n\ngrasslands <- relation2header(grasslands, \"community_type\")\nhead(grasslands@header)\n\n\n    ReleveID data_source plot_size elevation community_type longitude\n669     1153          58        25       165            534  -72.6979\n670     1154          58        25       199            534  -72.7341\n671     1155          58        25       170            534  -72.6803\n672     1156          58        25        77            534  -72.7440\n673     1157          58        25       168            534  -72.6958\n674     1159          58        25       165            534  -72.6979\n    latitude   community_name\n669 -38.7072 Juncetum proceri\n670 -38.6310 Juncetum proceri\n671 -38.6908 Juncetum proceri\n672 -38.6846 Juncetum proceri\n673 -38.7141 Juncetum proceri\n674 -38.7072 Juncetum proceri\n\nStatistics\nThe packages vegtable and taxlist are rather specialized on data manipulation than on data analysis. Nevertheless some common descriptive statistics and summaries that can be used for further statistical analyses are implemented.\nTrait proportions\nIn this data set, for instance, life forms are inserted as attributes of the recorded species. Since this attribute is a categorical variable, summaries at the plot level can only be done as proportions. The function trait_proportion() is suitable for such kind of summaries. Note that the best way to collect statistics calculated for plots is adding them as new columns into the slot header, which is done by the option in_header=TRUE. Additionally, the option weight=\"cover_percentage\" is indicating that the cover percentage stored in the slot samples will be used as weight for the respective life from classes.\n\n\ngrasslands <- trait_proportion(trait=\"life_form\", object=grasslands,\n    head_var=\"ReleveID\", include_nas=FALSE, weight=\"cover_percentage\",\n    in_header=TRUE)\n\n\n\nBy default, the function added at slot header one column per level in the traits variable appending a suffix (default _prop). Just to remind you, we used the function relation2header() in order to add the names of the recorded communities in the slot header.\n\n\n# Add community names to the header table\ngrasslands <- relation2header(grasslands, relation=\"community_type\")\n\n# Display mean values per plant communities\naggregate(annual_prop ~ community_name, data=grasslands@header, FUN=mean)\n\n\n                                community_name annual_prop\n1                     Anthoxanthum utriculatum 0.007826989\n2                  Eleocharietum macrostachyae 0.096678841\n3                    Eleocharietum pachycarpae 0.092635324\n4        Eleocharis pachycarpa-Lythrum portula 0.173790650\n5  Gnaphalio cymatoidis-Polygonetum piperoidis 0.650889962\n6                             Juncetum proceri 0.001167405\n7             Junco proceri-Caricetum ripariae 0.000000000\n8   Ludwigia peploides-Sagittaria montevidense 0.000000000\n9       Mentho pulegium-Agrostietum capillaris 0.041020366\n10                             Phyla nodiflora 0.958893907\n\n# The same information as boxplot\npar(mar=c(5, 20, 1, 1), las=1)\nboxplot(annual_prop ~ community_name, data=grasslands@header, horizontal=TRUE,\n    xlab=\"Proportion of annuals\", ylab=\"\")\n\n\n\n\nBefore you continue, note that the first argument in the function is a formula indicating on the left a response as left term (in this case the statistic describing a categorical trait variable) and the factors as right terms (grouping variables for the plots). This kind of objects will be frequently used in functions dealing with vegtable objects.\nTrait Statistics\nFor numerical taxonomic traits statistical parameters such as averages and standard deviation can be calculated per plot. For instance the data set grasslands is also including Ellenberg’s indicator values (see Ellenberg et al., 2001), which were collected from Ramírez et al. (1991) and San Martín et al. (2003).\nThe calculation of trait statistics is done by the function trait_stats(). In the parameter FUN we can use a statistical function such as mean() but we can also define an statistic using the cover values as weights for the calculation. In this case we can calculate weighted means:\n\\[\\bar{x} = \\frac{\\sum{x_{i} \\cdot w_{i}}}{\\sum{w_{i}}}\\]\nHere \\(\\bar{x}\\) is the mean indicator figure for a plot, \\(x_{i}\\) is the indicator value of the ith species in this plot, and \\(w_{i}\\) is the weight of the same species (cover value) in the plot. In R we define it as a function:\n\n\nweighted_mean <- function(x, w, ...) sum(x*w, ...)/sum(w, ...)\n\n\n\nIn the function trait_stats() we can query indicator figures through a formula. Note that this formula may include multiple variables on the left terms for the simultaneous calculation of indicator values.\n\n\ngrasslands <- trait_stats(ind_N + ind_H ~ ReleveID, grasslands,\n    FUN=weighted_mean,  include_nas=FALSE, weight=\"cover_percentage\",\n    suffix=\"_wmean\", in_header=TRUE)\n\n\n\nThe resulting values may be useful to compare different plant communities or to test relationships between different variables, for instance an expected correlation between the humidity indicator and the proportion of annuals.\n\n\npar(mar=c(5, 20, 1, 1), las=1)\nboxplot(ind_H_wmean ~ community_name, data=grasslands@header, horizontal=TRUE,\n    xlab=\"H figure (weighted mean)\", ylab=\"\")\n\n\n\n\n\n\n# Linear regression model\nMod <- lm(annual_prop ~ ind_H_wmean, data=grasslands@header)\n\n# plot\nplot(grasslands@header[,c(\"ind_H_wmean\", \"annual_prop\")], xlab=\"H figure\",\n    ylab=\"Proportion of annuals\", pch=20, col=\"darkgrey\")\nabline(Mod, lty=2, col=\"red\")\n\n\n\n\nWell, it is not a nice distribution of observations but still suggesting a negative tendency in the proportion of annuals by increasing humidity indicator, as expected.\nStatistics from taxonomic information\nTaxonomic information (taxonomic ranks and parent-child relationships) are not directly available for statistical descriptions in taxlist objects. If we need to calculate proportions of determined genera or families in the plots, we can pass the taxonomy to the taxon traits table with the function tax2traits(). You need to set get_names=TRUE, otherwise only taxon IDs (numbers) will be inserted in the traits table.\n\n\ngrasslands@species <- tax2traits(grasslands@species, get_names=TRUE)\nhead(grasslands@species@taxonTraits)\n\n\n   TaxonConceptID origin_status life_form ind_L ind_T ind_R ind_N\n9           21253        native      <NA>     8    NA     5     5\n20          23006        native      <NA>     9     6     3     3\n32          12288     adventive    annual     9     5     7     6\n35          16407     adventive    annual     8     6     7     8\n39          20972     adventive perennial     7     5     3     4\n41          22569     adventive perennial     9     5     6     8\n   ind_H ind_S                           variety\n9      9    NA Symphyotrichum vahlii var. vahlii\n20    10    NA                              <NA>\n32     4    NA                              <NA>\n35     4    NA                              <NA>\n39    NA    NA                              <NA>\n41    10    NA                              <NA>\n                   subspecies                  species          genus\n9                        <NA>    Symphyotrichum vahlii Symphyotrichum\n20 Carex fuscula ssp. fuscula            Carex fuscula          Carex\n32                       <NA>              Briza minor          Briza\n35                       <NA>          Cirsium vulgare        Cirsium\n39                       <NA>      Agrostis capillaris       Agrostis\n41                       <NA> Alisma plantago-aquatica         Alisma\n         family\n9    Compositae\n20   Cyperaceae\n32      Poaceae\n35   Compositae\n39      Poaceae\n41 Alismataceae\n\nNow we can compare, for instance, the proportion of species belonging to the family Poaceae (grasses) in the different plant communities.\n\n\ngrasslands <- trait_proportion(\"family\", grasslands, head_var=\"ReleveID\",\n    trait_level=\"Poaceae\", include_nas=FALSE, weight=\"cover_percentage\",\n    in_header=TRUE)\n\n# Compare communities by proportion of Poaceae\npar(mar=c(5, 20, 1, 1), las=1)\nboxplot(Poaceae_prop ~ community_name, data=grasslands@header,\n    horizontal=TRUE, xlab=\"Proportion of Poaceae\", ylab=\"\")\n\n\n\n\nThis graphic is advising us that maybe few of these communities can be considered as grasslands sensu stricto.\nThe function count_taxa() is defined for calculation of number of taxa at specific taxonomic ranks. Note that this function may be smart enough to aggregate taxa into the corresponding ranks, for instance the calculation of species numbers may also include sub-specific taxa in their respective species (option include_lower=TRUE).\n\n\ngrasslands <- count_taxa(species ~ ReleveID, grasslands, include_lower=TRUE,\n    in_header=TRUE)\n\n# Compare communities by species richness\npar(mar=c(5, 20, 1, 1), las=1)\nboxplot(species_count ~ community_name, data=grasslands@header,\n    horizontal=TRUE, xlab=\"Species richness\", ylab=\"\")\n\n\n\n\nCross tables and Maps\nMost of the applications used for floristic comparisons require data in form of a cross table. Furthermore, species composition of communities may be more evident by displaying data, for instance, in a table of species by plots. To arrange data in such a way we can apply the function crosstable().\nIn order to reduce the data set, we will apply the function subset(), selecting plots of the association Juncetum proceri.\n\n\njuncetum <- subset(grasslands, community_name == \"Juncetum proceri\",\n    slot=\"header\")\nsummary(juncetum)\n\n\n## Metadata \n   object size: 202.9 Kb \n   validity: TRUE \n\n## Content \n   number of plots: 15 \n   plots with records: 15 \n   variables in header: 16 \n   number of relations: 2 \n\n## Taxonomic List \n   taxon names: 544 \n   taxon concepts: 197 \n   validity: TRUE \n\nIn the function crosstable() we indicate as formula in the left term the numeric variable used to fill the table, the first right term is the group variable used for the columns and the further right terms are group variables defining the rows of the cross table. Note that the taxa in the formula can be addressed by either one of two keywords, namely TaxonName for the use of original entry names (taxon usage names) or AcceptedName for use of the respective names considered as accepted in slot species. We also set the arguments FUN=max defining the function used to merge multiple occurrences of a taxon in a plot and na_to_zero=TRUE to fill absence.\n\n\njuncetum_cross <- crosstable(cover_percentage ~ ReleveID + AcceptedName,\n    data=juncetum, FUN=max, na_to_zero=TRUE)\nhead(juncetum_cross)\n\n\n                         AcceptedName 1147 1148 1157 1158 1159 1161\n1    Adesmia corymbosa var. corymbosa   10  0.5  0.5  0.5  0.5  0.5\n2                 Agrostis capillaris   15 40.0 10.0 20.0 30.0  0.0\n3            Anthoxanthum utriculatum    0  0.0  0.0  0.0  0.0  0.0\n4 Arrhenatherum elatius var. bulbosum    0  0.0  0.0  0.0  0.0  0.0\n5                Baccharis sagittalis    0  0.0  0.0  0.0  0.0  0.0\n6               Centipeda elatinoides    0  0.0  0.0  0.5  0.5  0.0\n  1149 1150 1151 1152 1153 1154 1155 1156 1160\n1    0    0  0.0    0    0    0    0  0.0  0.0\n2   10   30 20.0   20   50   50   50 20.0 40.0\n3    0    0  0.0    0    0    0    0  0.5  0.0\n4    0    0  0.0    0    0    0    0  0.5  0.0\n5    0    0  0.0    0    0    0    0  0.0  0.5\n6    0    0  0.5    0    0    0    0  0.0  0.0\n\nWhen plots are geo-referenced, it is also possible to export the respective locations as kml files to be displayed in Google Earth using the function vegtable2kml().\n\n\nvegtable2kml(grasslands, file=\"grasslands.kml\", coords= ~ longitude + latitude)\n\n\n\nAlternatively the locations of plots can be displayed by using the package leaflet.\n\n\nlibrary(leaflet)\nleaflet(grasslands@header) %>% addTiles() %>%\n    addCircleMarkers(lng=~longitude, lat=~latitude, color=\"red\",\n        opacity=0.3, radius=1)\n\n\n\n\nAcknowledgement\nThe data sets and routines demonstrated here have been previously tested by Elena Gómez in the context of her thesis for the degree of MSc. (Gómez, 2020). Any further comments and suggestions are kindly welcomed.\n\n\n\nAlvarez, M. and Luebert, F. (2018) The taxlist package: Managing plant taxonomic lists in R. Biodiversity Data Journal 6, e23635. doi:10.3897/bdj.6.e23635.\n\n\nAlvarez, M., Möseler, B. M., Martín, C. S., Ramírez, C. and Amigo, J. (2012) CL-Dataveg  a database of Chilean grassland vegetation. Biodiversity & Ecology 4, 443. doi:10.7809/b-e.00230.\n\n\nEllenberg, H., Weber, H. E., Düll, R., Wirth, V. and Werner, W. (2001) Zeigerwerte von pflanzen in mitteleuropa. Göttingen, Erich Goltze.\n\n\nGómez, E. (2020) Explorative and retrospective evaluation of grassland vegetation in Southcentral Chile.\n\n\nRamírez, C., Finot, V. L., San Martín, C. and Ellies, A. (1991) El valor indicador ecológico de las malezas del centro-sur de Chile. Agro Sur 19, 94–116.\n\n\nSan Martín, C., Ramírez, C. and Ojeda, P. (1998) La vegetación de lagunas primaverales en las cercanías de Temuco (Cautín, Chile). Acta Botanica Malacitana 23, 99–120.\n\n\nSan Martín, C., Ramírez, C. and Alvarez, M. (2003) Macrófitos como bioindicadores: Una propuesta metodológica para caracterizar ambientes dulciacuícolas. Revista Geográfica de Valparaíso 34, 243–253.\n\n\n\n\n",
    "preview": "posts/2020-11-20-vegtablepress2/images/vegtable_diagram.png",
    "last_modified": "2022-06-06T09:58:21+00:00",
    "input_file": {},
    "preview_width": 3715,
    "preview_height": 1565
  },
  {
    "path": "posts/2020-10-29-vegtableintro/",
    "title": "Introduction to the package vegtable",
    "description": "The package vegtable offers objects and functions for the work with plot\nobservations in vegetation assessments (phytosociological relevés).\nThis object class ensures consistency on data, while it is also allowing\nflexibility in the degree of completeness and resolution of data.\nThis tutorial is an updated version of a workshop offered in the context of\nthe 16th Workshop of the German Group on Vegetation Databases celebrated in\nFreiburg in March 2017.",
    "author": [
      {
        "name": "Miguel Alvarez",
        "url": "https://kamapu.github.io/"
      }
    ],
    "date": "2020-10-30",
    "categories": [
      "R",
      "vegetation",
      "workshop"
    ],
    "contents": "\nThe program of the workshop is accessible here.\nFirst Steps\nThis session deals with the management and process of taxonomic lists and retrieving information from vegetation-plot databases. Following software will be required for this session:\nR\nRStudio\nTurboveg\nJuice\nGoogle Earth\nInstallation of requirements in R\nThough all required R-packages will be installed in the computer room previous to this session, here there are instructions, in the case you try to repeat the sessions in your own computer. Following command line should be executed in order to install all required packages in R:\n\n\ninstall.packages(c(\"devtools\", \"foreign\", \"plotKML\", \"rgdal\", \"sp\", \"vegdata\",\n  \"vegan\", \"xlsx\"), dependencies=TRUE)\n\n\n\nThis session will focus on the use of two packages that use GitHub as repository for sharing and development. The package taxlist processes taxonomic lists that may be connected to biodiversity information (e.g. vegetation relevés), while the package vegtable has a similar task but handling vegetation-plot records. Since vegtable is depending on taxlist, both packages should be installed and updated for this session:\n\n\nlibrary(remotes)\ninstall_github(\"ropensci/taxlist\", build_vignettes=TRUE)\ninstall_github(\"kamapu/vegtable\", build_vignettes=TRUE)\n\n\n\nSince both package are been uploaded in the Comprehensive R Archive Network (CRAN), you can also use the common way to get the last released version.\n\n\ninstall.packages(\"vegtable\", dependencies=TRUE)\n\n\n\nDocuments and data sets\nThis is the main document of the Workshop and will be distributed among its participants. Additionally, data sets required for the examples are provided by the installation of the R-packages taxlist and vegtable.\nIntroduction to taxlist\nThe package taxlist define an homonymous S4 class. Among other properties, S4 classes implement a formal definition of objects, tests for their validation and functions (methods) applied to them. Such properties are suitable for structure information of taxonomic lists and for data handling.\n\n\nlibrary(taxlist)\nshowClass(\"taxlist\")\n\n\n\nThis class is composed by four slots, corresponding to column-oriented tables (class data.frame in R). While the slots taxonNames and taxonRelations contain the information on names (labels of taxon concepts) and taxon concepts, respectively, representing the core information of taxonomic lists.\nmost important information regarding taxa (taxon concepts), information in slots taxonTraits and taxonViews is optional and they can be empty.\nBuilding taxlist objects\nBuilding taxlist objects can be achieved either through a step-by-step routine working with small building blocks or by importing consolidated data sets.\nUsing character vectors\nObjects of class taxlist can be just built from a list of names formatted as a character vector. To achieve it, the functions new and add_concept are required.\n\n\nplants <- c(\"Lactuca sativa\",\"Solanum tuberosum\",\"Triticum sativum\")\nsplist <- new(\"taxlist\")\nsplist <- add_concept(splist, plants)\nsummary(splist)\n\n\n\nUsing formatted tables\nIn the case of consolidated species lists, they can be inserted in a table previously formatted for taxlist (or Turboveg). Such tables can include both, accepted names for plant species as well as their respective synonyms. A formatted table is installed in the package taxlist.\n\n\nFile <- file.path(path.package(\"taxlist\"), \"cyperus\", \"names.csv\")\nCyperus <- read.csv(File, stringsAsFactors=FALSE)\nstr(Cyperus)\n\n\n\nThis table was originally imported form Turboveg and inherits some of its default columns. Four columns were renamed and are mandatory for process the table with the function df2taxlist:\nTaxonUsageID is the key field of a table of names (slot taxonNames).\nTaxonConceptID is the link of the name to its respective concept (key field in slot taxonRelations.\nTaxonName is the name itself as character.\nAuthorName is a character value indicating the author(s) of the respective name.\nAdditionally the functions require a logical vector indicating, which of those names should be considered as synonyms or accepted names for its respective concept. This information is provided by the inverse value of the column SYNONYM in Turboveg.\n\n\nCyperus <- df2taxlist(Cyperus, !Cyperus$SYNONYM)\nsummary(Cyperus)\n\n\nobject size: 32.1 Kb \nvalidation of 'taxlist' object: TRUE \n\nnumber of taxon usage names: 95 \nnumber of taxon concepts: 42 \ntrait entries: 0 \nnumber of trait variables: 0 \ntaxon views: 0 \n\nUsing Turboveg species list\nA direct import from a Turboveg database can be done using the function tv2taxlist. The installation of vegtable includes data published by Fujiwara et al. (2014) with vegetation plots collected in forest stands from Kenya.\n\n\nlibrary(vegtable)\ntv_home <- file.path(path.package(\"vegtable\"), \"tv_data\")\nFujiwara <- tv2taxlist(\"Fujiwara_sp\", tv_home)\nsummary(Fujiwara)\n\n\n\nSummary displays\nFor taxlist objects there are basically two ways for displaying summaries. The first way is just ot apply the function summary to a taxlist object:\n\n\nsummary(Cyperus)\n\n\nobject size: 32.1 Kb \nvalidation of 'taxlist' object: TRUE \n\nnumber of taxon usage names: 95 \nnumber of taxon concepts: 42 \ntrait entries: 0 \nnumber of trait variables: 0 \ntaxon views: 0 \n\nNote that this option also executes a validity check of the object, as done by the function validObject.\nThe second way is getting information on a particular concept by adding it concept ID or a taxon usage name as second argument in the function.\n\n\nsummary(Cyperus, \"Cyperus dives\")\n\n\n------------------------------ \nconcept ID: 197 \nview ID: none \nlevel: none \nparent: none \n\n# accepted name: \n197 Cyperus dives Delile \n\n# synonyms (5): \n52000 Cyperus immensus C.B. Clarke \n52600 Cyperus exaltatus var. dives (Delile) C.B. Clarke \n52601 Cyperus alopecuroides var. dives Boeckeler \n52602 Cyperus immensus var. petherickii (C.B. Clarke) Kük. \n52603 Cyperus petherickii C.B. Clarke \n------------------------------ \n\nSpecific information for several concepts can be displayed by using a vector with several concept IDs. Through the option ConceptID=\"all\" it is also possible to get a display of the first concepts, depending on the value of the argument maxsum.\n\n\nsummary(Cyperus, \"all\", maxsum=10)\n\n\n\nExample data set\nThe installation of taxlist includes the data Easplist, which is formatted as a taxlist object. This data is a subset of the species list used by the database SWEA-Dataveg (GIVD ID AF-006):\n\n\ndata(Easplist)\nsummary(Easplist)\n\n\n\nAccess to slots\nThe common ways to access to the content of slots in S4 objects are either using the function slot(object, name) or the symbol @ (i.e. object@name). Additional functions, which are specific for taxlist objects are taxon_names, taxon_relations, taxon_traits and taxon_views (see the help documentation).\nAdditionally, it is possible to use the methods $ and [ , the first for access to information in the slot taxonTraits, while the second can be also used for other slots in the object.\n\n\nsummary(as.factor(Easplist$lf_behn_2018))\n\n\n  acropleustophyte        chamaephyte     climbing_plant facultative_annual \n                 8                 25                 25                 20 \n   obligate_annual       phanerophyte   pleustohelophyte         reed_plant \n               114                 26                  8                 14 \n     reptant_plant      tussock_plant               NA's \n                19                 52               3576 \n\nSubsets\nMethods for the function subset are implemented in order to generate subsets of the content of taxlist objects. Such subsets usually apply pattern matching (for character vectors) or logical operations and are analogous to query building in relational databases. The subset method can be apply to any slot by setting the value of the argument slot.\n\n\nPapyrus <- subset(Easplist, grepl(\"papyrus\", TaxonName), slot=\"names\")\nsummary(Papyrus, \"all\")\n\n\n\nOr the very same results:\n\n\nPapyrus <- subset(Easplist, TaxonConceptID == 206, slot=\"relations\")\nsummary(Papyrus, \"all\")\n\n\n\nSimilarly, you can look for a specific name.\n\n\nPhraaus <- subset(Easplist, charmatch(\"Phragmites australis\", TaxonName),\n  slot=\"names\")\nsummary(Phraaus, \"all\")\n\n\n\nParent-child relationships\nObjects belonging to the class taxlist can optionally content parent-child relationships and taxonomic levels. Such information is also included in the data Easplist, as shown in the summary output.\n\n\nsummary(Easplist)\n\n\nobject size: 761.4 Kb \nvalidation of 'taxlist' object: TRUE \n\nnumber of taxon usage names: 5393 \nnumber of taxon concepts: 3887 \ntrait entries: 311 \nnumber of trait variables: 1 \ntaxon views: 3 \n\nconcepts with parents: 3698 \nconcepts with children: 1343 \n\nhierarchical levels: form < variety < subspecies < species < complex < genus < family \nnumber of concepts in level form: 2\nnumber of concepts in level variety: 95\nnumber of concepts in level subspecies: 71\nnumber of concepts in level species: 2521\nnumber of concepts in level complex: 1\nnumber of concepts in level genus: 1011\nnumber of concepts in level family: 186\n\nNote that such information can get lost once applied subset, since the respective parents or children from the original data set are not anymore in the subset. May you like to recover parents and children, you can use the functions get_paretns or get_children, respectively.\n\n\nsummary(Papyrus, \"all\")\n\n\n------------------------------ \nconcept ID: 206 \nview ID: 1 \nlevel: species \nparent: none \n\n# accepted name: \n206 Cyperus papyrus L. \n\n# synonyms (2): \n52612 Cyperus papyrus ssp. antiquorum (Willd.) Chiov. \n52613 Cyperus papyrus ssp. nyassicus Chiov. \n------------------------------ \n\nPapyrus <- get_parents(Easplist, Papyrus)\nsummary(Papyrus, \"all\")\n\n\n------------------------------ \nconcept ID: 206 \nview ID: 1 \nlevel: species \nparent: 54853 Cyperus L. \n\n# accepted name: \n206 Cyperus papyrus L. \n\n# synonyms (2): \n52612 Cyperus papyrus ssp. antiquorum (Willd.) Chiov. \n52613 Cyperus papyrus ssp. nyassicus Chiov. \n------------------------------ \nconcept ID: 54853 \nview ID: 2 \nlevel: genus \nparent: 55959 Cyperaceae Juss. \n\n# accepted name: \n54855 Cyperus L. \n------------------------------ \nconcept ID: 55959 \nview ID: 3 \nlevel: family \nparent: none \n\n# accepted name: \n55961 Cyperaceae Juss. \n------------------------------ \n\nIntroduction to vegtable\nObjects of class vegtable are complex objects attempting to handle the most important information contained in vegetation-plot databases. They are defined in the homonymous package, while the species list will be required as a taxlist object.\nAs already mentioned, S4 objects are composed by slots:\n\n\nlibrary(vegtable)\nshowClass(\"vegtable\")\n\n\n\nThe information contained in the slot is the following:\ndescription is containing the “metadata” of the database as a named character vector.\nsamples is a column oriented table with the observations of species (as usage IDs) in plots and layers.\nheader is a table containing information on the plots.\nspecies is the taxonmic list as taxlist object.\nrelations are tables linked to categorical variables in slot header (called popups in Turboveg).\ncoverconvert is a list with conversion tables among cover scales.\nBuilding vegtable objects\nAn empty object (prototype) can be generated by using the function new:\n\n\nVeg <- new(\"vegtable\")\n\n\n\nIt is also possible to build an object from cross tables, assuming all species included in the table are accepted names:\n\n\nFile <- file.path(path.package(\"vegtable\"), \"Fujiwara_2014\", \"samples.csv\")\nFujiwara <- read.csv(File, check.names=FALSE, stringsAsFactors=FALSE)\nFujiwara_veg <-df2vegtable(Fujiwara, 1, 2)\nsummary(Fujiwara_veg)\n\n\n\nExample data set\nThe package vegtable also provides own data sets as examples. One of those examples is dune_veg, which contains the data sets dune and dune.env from the package vegan.\n\n\ndata(dune_veg)\nsummary(dune_veg)\n\n\n\nOther example is Kenya_veg, which also represent a subset of the database SWEA-Dataveg (GIVD ID AF-00-006).\n\n\ndata(Kenya_veg)\nsummary(Kenya_veg)\n\n\n## Metadata \ndb_name: Sweadataveg\nsp_list: Easplist\ndictionary: Swea\nobject size: 9500.8 Kb \nvalidity: TRUE \n\n## Content \nnumber of plots: 1946 \nvariables in header: 34 \nnumber of relations: 3 \n\n## Taxonomic List \ntaxon names: 3164 \ntaxon concepts: 2392 \nvalidity: TRUE \n\nAs shown in the previous commands, the function summary displays a general overview of the object’s content, while it also runs a validity check. An additional display is offered by the function vegtable_stat:\n\n\nvegtable_stat(Kenya_veg)\n\n\n## Metadata \ndb_name: Sweadataveg\nsp_list: Easplist\ndictionary: Swea\nobject size: 9500.8 Kb \nvalidity: TRUE \n\n## Content \nnumber of plots: 1946 \nvariables in header: 34 \nnumber of relations: 3 \n\n## Taxonomic List \ntaxon names: 3164 \ntaxon concepts: 2392 \nvalidity: TRUE \n\nREFERENCES \nPrimary references: 5\n\n## AREA \nArea range (m^2): 150 - 1750\n<1 m^2: 0%\n1-<10 m^2: 0%\n10-<100 m^2: 0%\n100-<1000 m^2: 2%\n1000-<10000 m^2: 1%\n>=10000 m^2: 0%\nunknow: 97%\n\n## TIME \noldest: 1983 - youngest: 2014\n<=1919: 0%\n1920-1929: 0%\n1930-1939: 0%\n1940-1949: 0%\n1950-1959: 0%\n1960-1969: 0%\n1970-1979: 0%\n1980-1989: 36%\n1990-1999: 31%\n2000-2009: 2%\n2010-2019: 1%\nunknow: 30%\n\n## DISTRIBUTION \nKE: 100%\n\n## PERFORMANCE \n01: 83%\n02: 17%\n03: 0%\n04: 0%\n05: 0%\n06: 0%\n07: 0%\n08: 0%\n09: 0%\n10: 0%\n11: 0%\n12: 0%\n\nAccess to slots\nSome functions are provided for the access to slots of vegtable objects, namely header and veg_relation, taxon_traits and taxon_views (see the help documentation).\nFor a direct access of the content included in slot header, there are the methods $ and [:\n\n\nsummary(Kenya_veg$REFERENCE)\nveg_relation(Kenya_veg, \"REFERENCE\")[,1:3]\n\n\n\nSubsets\nAs a way to generate queries from vegtable objects, a method for the function subset is implemented as well. Following is the case of the data set dune_veg generating a subset with pasture plots.\n\n\ndata(dune_veg)\npasture <- subset(dune_veg, Use == \"Pasture\")\nsummary(dune_veg)\n\n\n## Metadata \nobject size: 22.1 Kb \nvalidity: TRUE \n\n## Content \nnumber of plots: 20 \nvariables in header: 6 \nnumber of relations: 0 \n\n## Taxonomic List \ntaxon names: 30 \ntaxon concepts: 30 \nvalidity: TRUE \n\nsummary(pasture)\n\n\n## Metadata \nobject size: 19.2 Kb \nvalidity: TRUE \n\n## Content \nnumber of plots: 5 \nvariables in header: 6 \nnumber of relations: 0 \n\n## Taxonomic List \ntaxon names: 30 \ntaxon concepts: 30 \nvalidity: TRUE \n\nCross tables\nMost of the applications dealing with analysis of vegetation tables (e.g. the package vegan) will deal with cross tables rather than with column-oriented database lists. Therefore a function crosstable is defined for the conversion of taxlist objects to cross tables. Before building a cross table it will be recommended to transform the cover into percentage value by using the function transform.\n\n\npasture <- transform(pasture, to=\"Cover\", rule=\"middle\")\n\nCross <- crosstable(Cover ~ ReleveID + AcceptedName, pasture, max,\n  na_to_zero=TRUE)\nCross\n\n\n\nThe first argument in the function is the formula y ~ x1 + x2 + ... + xn, where:\ny is the cover value (a column in slot samples).\nx1 is the plot ID or a grouping value from slot header which will be used as columns in the cross table.\nx2 is the output for species (either TaxonName or AcceptedName).\nx3 to xn are additional information for the rows, such as layer, etc.\nThe second argument is the vegtable object and the third is a function, which will be applied in the case of multiple values in a cell (e.g. multiple records of a species within a plot).\nNote that there is also a method dealing with class data.frame (see the help documentation).\n\n\ndune_veg <- transform(dune_veg, to=\"Cover\", rule=\"middle\")\n\nCross_use <- crosstable(Cover ~ Use + AcceptedName, dune_veg, sum,\n  na_to_zero=TRUE)\nCross_use\n\n\n\nWhile the previous commands show statistics of groups in a vegetation table, it is also possible to write a presence-absence table:\n\n\nCross_pa <- crosstable(Cover ~ ReleveID + AcceptedName, pasture, function(x) 1,\n  na_to_zero=TRUE)\nCross_pa\n\n\n\nImport from Turboveg\nThe original task of vegtable was the import of Turboveg databases in R. Thus one of the oldest functions in the package is tv2vegtable.\n\n\ntv_home <- file.path(path.package(\"vegtable\"), \"tv_data\")\nFujiwara <- tv2vegtable(\"Fujiwara_2014\", tv_home)\n\n\nzero values will be replaced by NAs \n\nsummary(Fujiwara)\n\n\n## Metadata \ndb_name: Fujiwara_2014\nsp_list: Fujiwara_sp\ndictionary: Swea\nobject size: 392.6 Kb \nvalidity: TRUE \n\n## Content \nnumber of plots: 56 \nvariables in header: 29 \nnumber of relations: 2 \n\n## Taxonomic List \ntaxon names: 301 \ntaxon concepts: 254 \nvalidity: TRUE \n\nScreenshot of Kenyan data set displayed in TurbovegIn the case there is an error message produced by inconsistent data structure, there is the possibility of importing the data as a list for further inspection.\n\n\nFujiwara_list <- tv2vegtable(\"Fujiwara_2014\", tv_home, output=\"list\")\n\n\n\nExport to Juice\nExport of data for Juice follows a similar procedure as for cross tables.\n\n\nwrite_juice(Fujiwara, \"RiftValley\",\n  COVER_CODE ~ ReleveID + AcceptedName + LAYER,\n  header=c(\"TABLE_NR\",\"NR_IN_TAB\",\"ALTITUDE\",\"INCLINATIO\",\"EXPOSITION\",\n    \"COMM_TYPE\"),\n  FUN=paste0)\n\n\n\nBesides the vegtable object, the most important elements to export are:\nformula indicating how to construct the cross table.\nheader to show which variables should be exported for the head data.\ncoords with the names of coordinates, if present.\nFUN the function used for aggregate multiple records.\nThe values for coords should be as decimal degrees and in the spatial system WGS 84. In Juice such information will be included in the header data as columns deg_lon and deg_lat, allowing the display of plots in Google Earth. The previous command has generated two files, namely RiftValley_table.txt and RiftValley_header.txt.\nFor importing the table, you may follow the steps:\nOpen Juice\nIn menu File -> Import -> Table -> From Spreadsheet File (e.g. EXCEL Table)\nBrowse to RiftValley_table.txt and Open\nIn the last step, select the option Braun-Blanquet Codes and Finish\nFinally, save the new file\nThe Kenyan data set displayed in JuiceNow for the head:\nIn menu File -> Import -> Header Data -> From Comma Delimited File\nBrowse to RiftValley_header.txt and Open\nDisplay of header data in JuiceExport Locations to Google Earth\nIn those cases where vegetation data is geo-referenced, it is also possible to include spatial reference systems different than longlat WGS 84, which will be reprojected by the function.\n\n\nvegtable2kml(Fujiwara, \"RiftValley.kml\")\n\n\n\nLocation of plots displayed in Google EarthThen, hopefully you enjoyed the session and did not get too much error messages. \nAknowledgements: This workshop was supported by the project GlobE-wetlands.\n\n\n\n\n\n",
    "preview": "posts/2020-10-29-vegtableintro/images/Fujiwara_map.jpg",
    "last_modified": "2022-06-06T09:58:21+00:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-10-29-vegtablepress/",
    "title": "vegtable: An R object for vegetation-plot data sets",
    "description": "The package vegtable defines the homonymous object class and functions\n(methods) for handling vegetation-plot data sets in R.\nWithin its slots, taxonomic lists are formatted as taxlist objects.\nThis is a brief account about a presentation of vegtable and taxlist at the\nMarsaryk University in Brno (Czech Republic).\nThe presentation includes a brief introduction to the structure of vegtable\nobjects and functions.",
    "author": [
      {
        "name": "Miguel Alvarez",
        "url": "https://kamapu.github.io/"
      }
    ],
    "date": "2020-10-29",
    "categories": [
      "R",
      "vegetation"
    ],
    "contents": "\nThis was a presentation about the basics of the packages vegtable and taxlist.\nThese packages can be installed either from CRAN (last release) or GitHub (last development version).\n\n\n## Installing from CRAN\ninstall.packages(\"vegtable\", dependencies=TRUE)\n\n## Installing from GitHub\nlibrary(remotes)\ninstall_github(\"ropensci/taxlist\", build_vignettes=TRUE)\ninstall_github(\"kamapu/vegtable\")\n\n\n\nThe vignette installed for taxlist can be opened by calling it at the R-console.\n\n\nlibrary(taxlist)\n\nvignette(\"taxlist-intro\")\n\n\n\nFor additional information, visit the respective pages inserted as hypertext at the beginning of this post.\n \n\n\n\n",
    "preview": "posts/2020-10-29-vegtablepress/images/brno_vegtable_slide2.png",
    "last_modified": "2022-06-06T09:58:21+00:00",
    "input_file": {},
    "preview_width": 629,
    "preview_height": 354
  },
  {
    "path": "posts/sudamerica/",
    "title": "sudamerica: A vegetation-plot database for the Neo-Tropics",
    "description": "A database initiated for relevés in temperate grasslands in Chile but\ncurrently open for all the American continent with a strong focus in South\nAmerica.\nThis database attempt to store published relevés for meta-analysis purposes.",
    "author": [
      {
        "name": "Miguel Alvarez",
        "url": "https://kamapu.github.io/"
      }
    ],
    "date": "2020-10-13",
    "categories": [
      "database",
      "vegetation"
    ],
    "contents": "\nThe database sudamerica is formatted in PostgreSQL, including the extension PostGIS. sudamerica contains currently records from 1,642 plot observations obtained from 34 sources, most of them published either as journal articles or monographs. The oldest record was done in 12-01-1966, while the newest record is from 25-11-2013.\n \n\n\n\nThis database is maintained for research and teaching purposes. Data may be shared after a respective agreement with the custodian. Both, database and respective data sources may be cited in the case that information obtained from them get published. For data exchange (after a respective agreement with the custodian), objects of class vegtable will be preferred.\nSpecial thanks to Javier Amigo and Federico Luebert for providing own digitized data to this data base. Several students contributed by digitizing tables in the context of short-term assistance. The reference section below contains all publications used as data sources for sudamerica.\n\n\n\nAckermann, Markus. 2001. “Die Vegetation Der Bachfläufe in Der Hochatacama (Ii. Region) in Chile.” Candidate thesis, Philipps-Universität Marburg.\n\n\nAlvarez, Miguel. 2008. Diasporenbank Und ökologie Der Vegetation Temporärer Gewässer Im Cholchol-Gebiet (9. Region, Chile). Dissertationes Botanicae 407. Berlin: J. Cramer.\n\n\nAlvarez, Miguel, and Ulrich Deil. 2015. “Vascular Plant Assemblages of Ephemeral Wetland Vegetation Along the Mediterranean-Temperate Gradient in Chile.” Gayana Botánica 72 (2): 350–66.\n\n\nAlvarez, Miguel, Carlos Ramírez, Heriberto Figueroa, and Cristina San Martín. 2006. “Seed Banks in an Inundation Gradient of Two Grasslands in the 10\\(^{th}\\) Region (Chile) and Their Relationship with the Plant Cover.” Feddes Repertorium 117 (7-8): 571–86.\n\n\nAlvarez, Miguel, Cristina San Martín, Carla Novoa, Gisela Toledo, and Carlos Ramírez. 2010. “Diversidad Florística, Vegetacional Y de Hábitats En El Archipiélago de Los Chonos (Región de Aisén, Chile).” Anales Instituto Patagonia 38 (1): 35–56.\n\n\nAmigo, Javier, and Lorena Flores-Toro. 2012a. “Revisión Sintaxonómica de Los Bosques Esclerófilos de Chile Central: La Alianza Cryptocaryon Albae.” Lazaroa 33: 171–96. https://doi.org/10.5209/rev_laza.2012.v33.40283.\n\n\n———. 2012b. “The Supramediterranean Scrub in the Central Chilean Province: Phytosociological Position.” International Journal of Geobotanical Research 2: 87–110.\n\n\n———. 2013. “A New Contribution to Syntaxonomy of Sclerophyllous Forests and Pre-Forests of Central Chile: Lithraeion Causticae Alliance.” International Journal of Geobotanical Research 3: 47–67.\n\n\nAmigo, Javier, Carlos Ramírez, and Luis G. Quintanilla. 2007. “Mantle Communities of the Temperate Woodlands of South Central Chile: A Phytosociological Study of the Order Aristotelietalia Chilensis.” Phytocoenologia 37 (2): 269–319. https://doi.org/10.1127/0340-269x/2007/0037-0269.\n\n\nAmigo, Javier, Carlos Ramírez, and Luis G Quintanilla. 2004. “The Nothofagus Nitida (Phil.) Krasser Woodlands of Southern Chile in the Northern Half of Their Range: Phytosociological Position.” Acta Botanica Gallica 151 (1): 3–31.\n\n\nAmigo, Javier, and Manuel A. Rodríguez-Guitián. 2015. “Syntaxonomical Review of Sub-Antarctic Orotemperate Forests (Adenocaulo Chilensis-Nothofagetalia Pumilionis) in the Valdivian Biogeographic Province.” International Journal of Geobotanical Research 5: 13–35.\n\n\nAmigo, Javier, Manuel A. Rodríguez Guitián, and Carlos Ramírez. 2010. “The Lleuque Forests of South Central Chile: A Phytosociological Study and Syntaxonomical Classification Within South American Temperate Forests.” Lazaroa 31: 85–98.\n\n\nAmigo, Javier, José San Martín, and Luis García Quintanilla. 2000. “Estudio Fitosociológico de Los Bosques de Nothofagus Glauca (Phil.) Krasser Del Centro-Sur de Chile.” Phytocoenologia 30 (2): 193–221.\n\n\nAñazco, Nancy, Marcela Moraga, and Carlos Ramírez. 1981. “Distribución de Comunidades Pratenses Antropogénicas En Un Gradiente de Inclinación En Valdivia, Chile.” Agro Sur 9 (1): 14–27.\n\n\nDeil, Ulrich, Miguel Alvarez, and Inge Paulini. 2007. “Native and Non-Native Species in Annual Grassland Vegetation in Mediterranean Chile.” Phytocoenologia 37 (3-4): 769–84. https://doi.org/10.1127/0340-269x/2007/0037-0769.\n\n\nGutte, Peter. 1988. “Zu Einigen Wasserpflanzen- Und Röhrichtgesellschaften in Den Hochanden Zentralperus.” In Plantae Neotropicae, edited by Gerd K Müller, Peter Gutte, C Müller, and D L Schulz, 45–48. Leipzig: Karl-Marx-Universität.\n\n\nHauenstein, Enrique, Marcos González, Fernando Peña-Cortés, and Andrés Muñoz-Pedreros. 2002. “Clasificación Y Caracterización de La Flora Y Vegetación de Los Humedales de La Costa de Toltén (IX Región, Chile).” Gayana Botánica 59 (2): 87–100.\n\n\nMontaldo, Patricio. 1975. “Sinecología de Las Praderas Antropogénicas En La Provincia de Valdivia, Chile.” Agro Sur 3 (1): 16–24.\n\n\nRamírez, Carlos. 1968. “Die Vegetation Der Moore Der Cordillera Pelada, Chile.” Bericht Der Oberhessischen Gesellschaft Für Natur- Und Heilkunde Zu Gießen, Naturwissenschaftliche Abteilung 36: 95–101.\n\n\nRamírez, Carlos, Javier Amigo, and Cristina San Martín. 2003. “Vegetación Pratense Litoral Y Dinámica Vegetacional Antropogénica En Valdivia, Chile.” Agro Sur 31 (2): 24–37.\n\n\nRamírez, Carlos, Achim Ellies, Roberto Mac Donald, and Oscar Seguel. 2003. “Cambios En La Flora Y La Materia Orgánica Desde Bosques Nativos a Praderas Antropogénicas En Suelos Volcánicos de La IX Región de Chile.” Revista de La Ciencia Del Suelo Y Nutrición Vegetal 3 (1): 1–12.\n\n\nRamírez, Carlos, Heriberto Figueroa, and Cristina San Martín. 1989. “Cambios Estacionales de Frecuencia Y Cobertura En Una Pradera Del Centro-Sur de Chile.” Agro Sur 17 (2): 105–15.\n\n\nRamírez, Carlos, Ingrid Ortiz, Cristina San Martín, Osvaldo J Vidal, Miguel Alvarez, Yéssica Pérez, José Luis Solís, and Iván Alvarez. 2014. “Estudio Preliminar de La Biodiversidad Vegetal Terrestre En El Estero Walker (Región de Aysén, Chile): Utilizando Líneas Base de Proyectos de Inversión.” Gayana Botánica 71 (2): 227–45.\n\n\nRamírez, Carlos, and Magaly Riveros. 1975. “Contenido de Semillas En El Suelo Y Regeneración de La Cubierta Vegetal En Una Pradera de La Provincia de Valdivia, Chile.” Phyton 33 (1): 81–96.\n\n\nRamírez, Carlos, Cristina San Martín, Domingo Contreras, and José San Martín. 1994. “Estudio Fitosociológico de La Vegetación Pratense Del Valle Del Río Chol-Chol (Cautín, Chile).” Agro Sur 22 (1): 41–56.\n\n\nRamírez, Carlos, Cristina San Martín, Achim Ellies, and Roberto Mac Donald. 1997. “Cambios Florísticos, Fitosociológicos Y Edáficos Provocados Por Exclusión de Pastoreo En Una Pradera Valdiviana, Chile.” Agro Sur 24 (2): 180–95.\n\n\nRamírez, Carlos, Cristina San Martín, Juan Carlos Ramírez, and José San Martín. 1992. “Estudio Sinecológico de Las Praderas Del Valle Del Curso Inferior Del Río Imperial (Cautín, Chile).” Ciencia E Investigación Agraria 19 (3): 97–112.\n\n\nRamírez, Carlos, Cristina San Martín, Osvaldo J Vidal, Yéssica Pérez, Jorge Valenzuela, José Luis Solís, and Gisela Toledo. 2014. “Tundra Subantártica En La Isla Grande de Chiloé, Chile: Flora Y Vegetación Turbosa de Campañas.” Anales Instituto Patagonia 42 (2): 17–37.\n\n\nSan Martín, Cristina, Carlos Ramírez, and Miguel Alvarez. 2004. “Estudio de La Vegetación de \"Mallines\" Y \"Campañas\" En La Cordillera Pelada (Valdivia, Chile).” Revista Geográfica de Valparaíso 35: 261–73.\n\n\nSan Martín, Cristina, Carlos Ramírez, and Heriberto Figueroa. 1999. “Análisis Multivariable de La Vegetación de Un Complejo de Turberas En Cordillera Pelada (Valdivia, Chile).” Lazaroa 20: 95–106.\n\n\nSan Martín, Cristina, Carlos Ramírez, and Pedro Ojeda. 1998. “La Vegetación de Lagunas Primaverales En Las Cercanías de Temuco (Cautín, Chile).” Acta Bot Malacitana 23: 99–120.\n\n\nSchwaar, Jürgen. 1976. “Die Hochmoore Feuerlands Und Ihre Pflanzengesellschaften.” Telma 6: 51–59.\n\n\n———. 1981. “Amphi-Arktische Pflanzengesellschaften in Feuerland.” Phytocoenologia 9 (4): 547–72.\n\n\nTeneb, Ernesto, Patricia Gómez, and Mariela González. 2008. “Observaciones Sobre La Flora Y Vegetación de Dos Turberas En La Región de Aisén, Patagonia Chilena.” Gayana Bot 65 (2): 229–32.\n\n\n\n\n",
    "preview": "posts/sudamerica/images/guadal_chile.jpg",
    "last_modified": "2022-06-06T09:58:21+00:00",
    "input_file": {}
  },
  {
    "path": "posts/sweadataveg/",
    "title": "SWEA-Dataveg: A vegetation-plot database for Africa",
    "description": "A collection of vegetation-plots from Africa, originally focused on wetland\nvegetation from Eastern Africa, it is currently expanded to other areas\nand considering any kind of vegetation.",
    "author": [
      {
        "name": "Miguel Alvarez",
        "url": "https://kamapu.github.io/"
      }
    ],
    "date": "2020-10-13",
    "categories": [
      "database",
      "vegetation"
    ],
    "contents": "\nVegetation-plot data from Eastern Africa and abroad\n \n\n\n\nThe database SWEA-Dataveg is formatted in PostgreSQL, including the extension PostGIS. For data exchange (after a respective agreement with the custodian), objects of class vegtable will be preferred.\nSWEA-Dataveg contains currently records from 5,552 plot observations that are provided by 47 sources. Most of those sources are works published either as journal articles or monographs.\nThe oldest record was done in 07-07-1937, while the newest record is from 17-02-2020.\n\n\n\n\n\n\n",
    "preview": "posts/sweadataveg/images/wetland_tz.jpg",
    "last_modified": "2022-06-06T09:58:21+00:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-10-08-taxlistjourney/",
    "title": "A journey in rOpenSci",
    "description": "A brief account of the experiences gained after a bit more than 2 years review\nprocess of the package taxlist for its submission to rOpenSci.\nThis journey resulted on new tools learned and new friends.\nThe talk was presented at LatinR 2020 (virtual meeting).",
    "author": [
      {
        "name": "Miguel Alvarez",
        "url": "https://kamapu.github.io/"
      }
    ],
    "date": "2020-10-08",
    "categories": [
      "conference",
      "R"
    ],
    "contents": "\nAfter a long review process, where a lot of improvements have been implemented, the package taxlist managed to be accepted in rOpenSci. The package taxllist handles taxonomic lists as S4 objects in R. Such objects can be used as modules within data sets of biodiversity records as in the package vegtable.\nIn a brief talk a summary of the experiences during the process of submission to rOpenSci was presented in the context of the conference LatinR 2020. Here you can access to the slides and the video of the presentation.\n \n\n\n\n",
    "preview": "posts/2020-10-08-taxlistjourney/images/cover_video.png",
    "last_modified": "2022-06-06T09:58:21+00:00",
    "input_file": {},
    "preview_width": 749,
    "preview_height": 419
  },
  {
    "path": "posts/2020-05-13-r4africa/",
    "title": "R for AfRica",
    "description": "The proliferation of freeware and open source applications expands the\npotential of scientists, especially in countries of difficult access to\ncommercial licenses for software tools.\nIn the context of enhanced international networks between education and\nresearch institutions, training on use of freeware is becoming a crucial step\nfor a better balance in collaboration between European and Eastern African\ncountries, harmonizing the capacities among researchers and students.",
    "author": [
      {
        "name": "Miguel Alvarez",
        "url": "https://kamapu.github.io/"
      },
      {
        "name": "Bisrat H. Gebrekhidan",
        "url": {}
      },
      {
        "name": "Samuel Kiboi",
        "url": {}
      }
    ],
    "date": "2020-05-13",
    "categories": [
      "R",
      "workshop"
    ],
    "contents": "\n\n\n\n",
    "preview": "posts/2020-05-13-r4africa/images/bisrat_teaching.jpg",
    "last_modified": "2022-06-06T09:58:21+00:00",
    "input_file": {}
  },
  {
    "path": "posts/2017-12-01-wetlandsfront/",
    "title": "Tanzanian wetlands in the cover of Phytocoenologia",
    "description": "A publication on classification of East African wetland communities in the\ncontext of the Braun-Blanquet approach managed to the cover of the journal\nPhytocoenologia.",
    "author": [
      {
        "name": "Miguel Alvarez",
        "url": "https://kamapu.github.io/"
      }
    ],
    "date": "2017-12-01",
    "categories": [
      "vegetation",
      "wetlands"
    ],
    "contents": "\nAfter a long process of learning, storing data, collecting publications and analysing data, the work entitled Classification of aquatic and semi-aquatic vegetation in two East African sites: Cocktail definitions and syntaxonomy (Alvarez 2017) appeared in the volume 47 of the journal Phytocoenologia. This article assesses vegetation-plots from two localities (one Tanzanian site and one Kenyan site) with a supervised classification method (Cocktail) and includes an exhaustive review on previous syntaxonomical works. One of the localities (Kwasunga in Tanzania) appears in the cover page of the issue. Wetland ecosystems are important providers of services for the people and fulfil essential ecological functions. Syntaxonomic classifications according to species composition and ecological preferences are useful references for monitoring of integrity and to assess the importance of wetlands for conservation purposes.\n \nAlthough in this article I am the only author, I was not alone in the journey. I have to thank Ulrich Deil (University of Freiburg, Germany) for allowing me to access his personal library, Milan Chytrý (University of Brno, Czech Republic) for mentoring me on the hard way of doing Cocktail, and to Jan Roleček (Czech Academy of Sciences, Czech Republic) for his support as editor. I also have to thank to two anonymous reviewers of the manuscript and all Kenyan and Tanzanian colleagues that supported me during the field activities.\n\n\n\n",
    "preview": "posts/2017-12-01-wetlandsfront/images/cover_cropped.jpg",
    "last_modified": "2022-06-06T09:58:21+00:00",
    "input_file": {}
  }
]
